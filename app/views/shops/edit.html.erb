<div>
  <h1>編集<%= @shop.name %></h1>

  <div>
    <%= render 'form', shop: @shop %>
  </div>

  <div>
    <button onclick="document.getElementById('deleteModal').style.display='block'" class="btn btn-outline-danger">このお店を削除する</button>
  </div>

  <div style="margin-top: 20px;">
    <%= link_to '店舗情報に戻る', @shop %>
    <% if current_user.admin? %>
      <%= link_to '店舗一覧', shops_path %>
    <% end %>
  </div>

</div>
<% if current_user.admin? %>
  <div id="deleteModal" data-controller="modal" style="display: none; position: fixed; z-index: 9999; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.4);">
    <div style="background-color: #fefefe; margin: 15% auto; padding: 20px; border: 1px solid #888; width: 80%; max-width: 500px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
      <h2 style="margin-top: 0;">Confirm Deletion</h2>
      <p>本当に"<%= @shop.name %>"を削除しますか? 削除したら元に戻せません。</p>
      <div style="text-align: right; margin-top: 20px;">
        <%= form_with(model: @shop, method: :delete, local: true, data: { turbo: false }) do |f| %>
          <%= f.submit 'はい、削除します。', style: "background-color: #dc3545; color: white; border: none; padding: 10px 15px; margin-right: 10px; cursor: pointer;", data: { confirm: "Are you absolutely sure?" } %>
        <% end %>
        <button onclick="document.getElementById('deleteModal').style.display='none'" style="background-color: #6c757d; color: white; border: none; padding: 10px 15px; cursor: pointer;">Cancel</button>
      </div>
    </div>
  </div>
<% end %>
