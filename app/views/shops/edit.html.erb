<div class="container">
 <div class="row justify-content-center">
   <div class="col-lg-8">
     <%# ヘッダー部分 %>
     <div class="d-flex align-items-center justify-content-between mb-4">
       <h1 class="h2 mb-0">
         <i class="bi bi-pencil-square text-primary me-2"></i>
         <%= @shop.name %>の編集
       </h1>
     </div>

     <%# フォーム部分 %>
     <div class="card shadow-sm mb-4">
       <div class="card-body">
         <%= render 'form', shop: @shop %>
       </div>
     </div>

     <%# アクションボタン %>
     <div class="d-flex justify-content-between align-items-center">
       <%= link_to shop_path(@shop), class: "btn btn-outline-secondary" do %>
         <i class="bi bi-arrow-left me-2"></i>店舗情報に戻る
       <% end %>

       <% if current_user.admin? %>
         <button onclick="openDeleteModal()" class="btn btn-outline-danger">
           <i class="bi bi-trash me-2"></i>このお店を削除する
         </button>
       <% end %>
     </div>
   </div>
 </div>
</div>

<%# 削除確認モーダル %>
<% if current_user.admin? %>
 <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
   <div class="modal-dialog modal-dialog-centered">
     <div class="modal-content">
       <div class="modal-header border-bottom-0">
         <h5 class="modal-title" id="deleteModalLabel">店舗の削除確認</h5>
         <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
       </div>
       <div class="modal-body text-center py-4">
         <i class="bi bi-exclamation-triangle text-warning" style="font-size: 3rem;"></i>
         <h4 class="mt-3">削除の確認</h4>
         <p class="text-muted mb-0">
           本当に「<%= @shop.name %>」を削除しますか？<br>
           <span class="text-danger">この操作は取り消すことができません。</span>
         </p>
       </div>
       <div class="modal-footer border-top-0">
         <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
           <i class="bi bi-x me-2"></i>キャンセル
         </button>
         <%= form_with(model: @shop, 
             method: :delete, 
             local: true, 
             data: { turbo: false },
             class: "d-inline") do |f| %>
           <%= f.button type: :submit, 
               class: "btn btn-danger",
               data: { confirm: "本当に削除してもよろしいですか？" } do %>
             <i class="bi bi-trash me-2"></i>削除する
           <% end %>
         <% end %>
       </div>
     </div>
   </div>
 </div>

 <%# モーダル用JavaScript %>
 <script>
   function openDeleteModal() {
     const deleteModal = new bootstrap.Modal(document.getElementById('deleteModal'));
     deleteModal.show();
   }
 </script>
<% end %>

<style>
.modal-content {
 border: none;
 border-radius: 10px;
}

.btn {
 transition: all 0.2s ease;
}

.btn:hover {
 transform: translateY(-1px);
}

@media (max-width: 576px) {
 .card {
   border-radius: 0;
   box-shadow: none;
 }
 
 .container {
   padding: 0;
 }
 
 .col-lg-8 {
   padding: 0 15px;
 }
}
</style>